# Vue 性能优化

## 拆分组件

我们使用 Vue devtools 分析工具，分析 Vue 模块的更新情况

目的：为了状态颗粒度细化

但是我们刚才发现，数据在父组件中定义，就算我们做到最完美，父组件和操作的子组件会更新，只是单纯子组件更新，父组件不发生任何更新

composition API，面向切面，最早用 store，

> 新时代，大家不要再把所有的状态都往父组件上提，自定义 Hooks、使用 Pinia，在对应组件中直接消费数据即可

React，基于 atom 原子类型的状态管理

重点就是：

1. 极大程度保证组件的更新粒度足够细，别动别人的（只是一些数据结构如果你不注意的话，就会无意识地动了）
2. 开放封闭，在组件内部去消费相关数据，hook、Pinia

## 异步组件与 Chunk

只有组件在将要时候的时候，才会加载，异步组件：defineAsyncComponent，分 chunk：splitVendorChunkPlugin + manualChunks 配置

## 状态的处理

Hook 其实就是状态组织的另一种形式，我们以往状态和 UI 是村在一起的，但是有了 composition API，我们可以尝试将 UI 和状态分离，将状态单独定义在 Hook 中
，在对应组件需要使用的时候，组件类消费这个 hook 数据即可
