<!-- Vue2 -->
<!-- <script lang="ts">
export default {
  directives: {
    // å®šä¹‰äº†ä¸€ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤å« focus
    focus: {
      // åœ¨ç»„ä»¶æŒ‚è½½çš„æ—¶å€™ï¼Œè®© el è·å–ç„¦ç‚¹
      mounted(el) {
        el.focus()
        el.style.boxShadow = '0 0 5px red'
        el.style.border = 'none'
      }
    }
  }
}
</script> -->

<!-- Vue3 -->
<script setup lang="ts">
import { ref } from 'vue'

const vFocus = {
  // åœ¨ç»„ä»¶æŒ‚è½½çš„æ—¶å€™ï¼Œè®© el è·å–ç„¦ç‚¹
  mounted(el: HTMLElement, context: any) {
    const {
      modifiers: { stop }
    } = context

    // const { stop } = modifiers

    if (stop) {
      // event.stopPropagation()
    }
    console.log('ğŸš€ ~ file: DirectiveDemo.vue:26 ~ mounted ~ stop:', stop)
    console.log('ğŸš€ ~ file: DirectiveDemo.vue:23 ~ mounted ~ context:', context)
    el.focus()
    el.style.boxShadow = '0 0 5px red'
    el.style.border = 'none'
  }
}

const value = ref('')
</script>

<template>
  directive demo
  <!-- å«å—æ§ç»„ä»¶ -->
  <input v-focus:click.stop="'baz'" v-model="value" />
  <div>{{ value }}</div>
  <!-- <input v-focus />
  <input v-focus />
  <textarea v-focus></textarea> -->
</template>

<style scoped></style>
